<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุชุฌุฑ ุฅููุชุฑููู</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div style="display:flex;gap:8px;align-items:center;">
    <div class="logo" title="ุงููุชุฌุฑ">
      <div class="title">ูุชุฌุฑ<br>ุงููุชุฑููู</div>
    </div>
  </div>
  <nav>
    <a id="nav-home" href="#home" class="active">ุงูุฑุฆูุณูุฉ</a>
    <a id="nav-offers" href="#offers">ุงูุนุฑูุถ</a>
    <a id="nav-admin" href="#control">ููุญุฉ ุงูุชุญูู</a>
  </nav>
</header>

<main>
  <section id="home" style="display:block">
    <h2 class="section-title">ุงูููุชุฌุงุช</h2>
    <div id="productsGrid" class="grid"></div>
  </section>

  <section id="offers" style="display:none">
    <h2 class="section-title">ุงูุนุฑูุถ</h2>
    <div id="offersGrid" class="grid"></div>
  </section>
</main>

<div class="order-sticker" id="orderSticker" title="ุนุฑุถ ุงูุณูุฉ">
  <div class="sticker-count" id="stickerCount">0</div>
  <div class="icon">๐</div>
  <div class="label">ุงูุณูุฉ</div>
</div>

<div class="cart-side" id="cartSide" aria-hidden="true">
  <div class="head">
    <div class="head-controls">
      <div class="title">ุณูุฉ ุงููุดุชุฑูุงุช</div>
      <div class="total-row">
        <span>ุงูุฅุฌูุงูู:</span>
        <span id="sideTotalHead">0.00 ุฑูุงู ุนูุงูู</span>
      </div>
      <button class="buy-btn" id="buyBtn">ุงุทูุจ ุงูุขู ุนุจุฑ ูุงุชุณุงุจ
        <span class="buy-btn-indicator" id="buyBtnIndicator"></span>
      </button>
    </div>
    <div><button class="close-btn" id="closeCartBtn" aria-label="ุฅุบูุงู">โ</button></div>
  </div>
  <div class="content" id="sideContent">
    <div id="sideItems"></div>
  </div>
  <div class="footer"></div>
</div>

<div class="img-viewer" id="imgViewer" role="dialog" aria-hidden="true">
  <div class="box center" style="position:relative;">
    <button id="viewerPrev" class="img-arrow left" aria-label="ุงูุณุงุจู">&#8592;</button>
    <img id="viewerImg" src="" alt="ุตูุฑุฉ ุฃูุจุฑ">
    <button id="viewerNext" class="img-arrow right" aria-label="ุงูุชุงูู">&#8594;</button>
    <button id="viewerClose" style="position:absolute; top:14px; left:14px; background:#fff;border-radius:6px;padding:4px 6px; cursor:pointer; font-size:18px;">โ</button>
  </div>
</div>

<div class="modal" id="adminModal" style="display:none;">
  <div class="panel">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div style="font-weight:900;font-size:15px;color:var(--text-main);">ููุญุฉ ุงูุชุญูู</div>
      <div><button class="small-btn" id="adminCloseBtn">โ</button></div>
    </div>
    <div id="loginPanel" class="form-row" style="margin-top:14px;">
      <input id="adminPass" type="password" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ">
      <button class="small-btn" id="adminLoginBtn">ุฏุฎูู</button>
    </div>
    <div id="controlPanel" style="display:none; margin-top:9px;">
      <div class="form-row">
        <input id="prodName" placeholder="ุงุณู ุงูููุชุฌ">
        <input id="prodPrice" type="number" placeholder="ุงูุณุนุฑ">
      </div>
      <div class="form-row">
        <input id="prodImages" placeholder="ุฑูุงุจุท ุงูุตูุฑ ููุตููุฉ ุจูุงุตูุฉ (ุญุชู 4 ุฑูุงุจุท)">
      </div>
      <div class="form-row">
        <textarea id="prodDesc" placeholder="ุงููุตู (ุงุฎุชูุงุฑู)"></textarea>
      </div>
      <div class="form-row">
        <select id="prodType">
          <option value="normal">ุฑุฆูุณูุฉ</option>
          <option value="offer">ุนุฑุถ</option>
        </select>
        <button class="small-btn" id="submitProductBtn">ุญูุธ / ุฅุถุงูุฉ</button>
      </div>
      <div style="margin-top:9px;color:var(--text-main);"><strong>ุงูููุชุฌุงุช ุงูุญุงููุฉ</strong></div>
      <div class="admin-list" id="adminList"></div>
    </div>
  </div>
</div>

<!-- Supabase SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js" defer></script>

<!-- ูููุงุช ุงููุดุฑูุน -->
<script src="supabase.js" defer></script>
<script src="products.js" defer></script>
<script src="cart.js" defer></script>
<script src="admin.js" defer></script>
<script src="main.js" defer></script>
</body>
</html>